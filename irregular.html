<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>불규칙 동사 Master - Deutsch Lernen</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400&family=Open+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Open Sans', sans-serif; background-color: #f5f5f5; color: #333; }
        .serif-font { font-family: 'Merriweather', serif; }
        .german-line { height: 4px; background: linear-gradient(90deg, #000 33.3%, #d00 33.3%, #d00 66.6%, #fc0 66.6%); }
        
        header { position: sticky; top: 0; z-index: 1000; background: white; width: 100%; border-bottom: 1px solid #f0f0f0; }
        .nav-link { padding-bottom: 4px; border-bottom: 2px solid transparent; transition: all 0.2s; font-weight: 700; color: #6b7280; }
        .nav-link:hover { color: #d00; }
        .nav-link.active { color: #d00 !important; border-bottom: 2px solid #d00; }

        .side-nav { position: fixed; left: 40px; top: 50%; transform: translateY(-50%); display: flex; flex-direction: column; gap: 15px; z-index: 50; }
        .side-btn { background: white; border: 2px solid #000; padding: 25px 15px; border-radius: 20px; font-size: 14px; font-weight: 900; color: #000; text-align: center; box-shadow: 0 10px 20px rgba(0,0,0,0.1); transition: all 0.3s; width: 160px; cursor: pointer; line-height: 1.4; }
        .side-btn:hover { background: #d00; color: #fff; border-color: #d00; transform: scale(1.05) translateX(5px); }

        .word-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        @media (min-width: 768px) { .word-grid { grid-template-columns: repeat(3, 1fr); } } 
        @media (min-width: 1200px) { .word-grid { grid-template-columns: repeat(5, 1fr); } }

        .word-card { background: white; border-radius: 1.2rem; padding: 1.5rem; border: 1px solid #eee; transition: all 0.2s; cursor: pointer; text-align: center; position: relative; display: flex; flex-direction: column; justify-content: center; min-height: 120px; }
        .word-card:hover { transform: translateY(-3px); border-color: #d00; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .word-card .verb { font-size: 1.1rem; font-weight: 800; color: #111; margin-bottom: 6px; }
        .word-card .meaning { font-size: 0.75rem; color: #999; font-weight: 600; }
        .helper-text { font-size: 9px; color: #e5e7eb; font-weight: 900; position: absolute; top: 8px; right: 10px; }

        #next-btn:disabled { cursor: not-allowed; opacity: 0.5; }
        #next-btn:not(:disabled) { cursor: pointer; background-color: #000 !important; color: white !important; }

        #word-modal { display: none; position: fixed; inset: 0; z-index: 2000; background: rgba(0,0,0,0.85); backdrop-filter: blur(8px); align-items: center; justify-content: center; padding: 20px; }
        .modal-content { background: white; width: 100%; max-width: 650px; border-radius: 40px; padding: 50px 30px; position: relative; text-align: center; }
        
        .conj-table { width: 100%; margin-top: 20px; margin-bottom: 20px; font-size: 0.95rem; text-align: left; border-collapse: collapse; }
        .conj-table th { color: #999; font-weight: normal; padding: 10px; border-bottom: 1px solid #eee; font-size: 0.8rem; }
        .conj-table td { font-weight: 800; padding: 15px 10px; color: #333; border-bottom: 1px solid #f9f9f9; }
        .conj-table td:last-child { color: #7e22ce; } /* 완료형 강조 */

        @media (max-width: 1450px) { .side-nav { display: none; } }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <div class="side-nav">
        <div onclick="document.getElementById('list-start').scrollIntoView()" class="side-btn">⚡ 불규칙 동사<br>전체 리스트</div>
        <div onclick="document.getElementById('quiz-start').scrollIntoView()" class="side-btn">✍️ 실전 퀴즈<br>(시제/형태)</div>
    </div>

    <header>
        <div class="german-line"></div>
        <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center">
            <div class="flex items-center gap-3 mb-4 md:mb-0 cursor-pointer" onclick="location.href='index.html'">
                <div class="w-10 h-10 bg-gray-900 text-yellow-400 flex items-center justify-center font-bold text-xl rounded">D</div>
                <h1 class="text-2xl font-bold text-gray-800 serif-font tracking-tight">Deutsch Lernen</h1>
            </div>
            <nav class="flex flex-wrap justify-center gap-6 text-sm">
                <a href="index.html" class="nav-link">Alle</a>
                <a href="a1.html" class="nav-link">A1</a>
                <a href="grammatik.html" class="nav-link active">Grammatik</a>
                <a href="notification.html" class="nav-link">Notification</a>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 py-12 flex-grow">
        <div id="list-start" class="pt-10">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-black serif-font mb-2 tracking-tighter">Unregelmäßige Verben</h2>
                <p class="text-gray-400 font-bold uppercase tracking-widest text-xs mb-4 underline">파일 데이터 업데이트 완료 (48 Verben)</p>
            </div>
            <div class="word-grid" id="irr-list"></div>
        </div>

        <section id="quiz-start" class="mt-40 border-t-4 border-black pt-20 mb-32 max-w-3xl mx-auto">
            <div class="text-center mb-12">
                <h3 class="text-4xl font-black serif-font mb-2">Verb Konjugation Quiz</h3>
                <p class="text-gray-500 font-medium">문장에 알맞은 동사의 형태(과거/완료)를 선택하세요.</p>
            </div>
            <div class="bg-white rounded-[2.5rem] shadow-2xl overflow-hidden" id="quiz-box">
                <div id="q-init" class="p-20 text-center">
                    <button onclick="startQuiz()" class="bg-black text-white font-black px-16 py-5 rounded-2xl shadow-xl hover:bg-red-600 transition-all text-lg cursor-pointer">퀴즈 시작</button>
                </div>
                <div id="q-play" class="p-12 hidden text-center">
                    <div id="q-status" class="text-xs font-black text-purple-600 mb-6 uppercase tracking-widest"></div>
                    <div class="text-sm text-gray-400 mb-4 italic font-bold" id="q-meaning-hint"></div>
                    <h4 id="q-text" class="text-2xl font-bold mb-10 serif-font leading-snug"></h4>
                    <div id="q-options" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
                    <button id="next-btn" onclick="nextQ()" class="w-full mt-10 bg-gray-100 text-gray-400 font-black py-5 rounded-2xl transition-all" disabled>다음 문제</button>
                </div>
                <div id="q-result" class="p-16 text-center hidden">
                    <h4 class="text-6xl font-black mb-6 serif-font" id="score-text"></h4>
                    <button onclick="location.reload()" class="bg-black text-white px-10 py-4 rounded-full font-bold cursor-pointer">다시 도전</button>
                </div>
            </div>
        </section>
    </main>

    <div id="word-modal" onclick="closeWordModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <span class="material-symbols-outlined absolute top-6 right-6 cursor-pointer text-gray-300 hover:text-black" onclick="closeWordModal()">close</span>
            <div class="text-purple-600 font-black text-[10px] tracking-widest mb-2 uppercase">STARKES VERB</div>
            <div id="modal-word" class="text-5xl font-black serif-font mb-2"></div>
            <div id="modal-meaning" class="text-gray-400 font-bold text-lg mb-8"></div>
            
            <div class="bg-gray-50 rounded-3xl p-8 mb-8 shadow-inner">
                <table class="conj-table">
                    <thead>
                        <tr>
                            <th>Präsens (er/sie/es)</th>
                            <th>Präteritum (ich/er)</th>
                            <th>Perfekt (Partizip II)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td id="modal-p1" class="text-xl"></td>
                            <td id="modal-p2" class="text-xl"></td>
                            <td id="modal-p3" class="text-xl"></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="modal-sentence" class="text-2xl font-bold text-gray-800 leading-tight italic"></div>
        </div>
    </div>

    <footer class="bg-white border-t border-gray-100 py-12 text-center mt-20">
        <p class="text-[10px] text-gray-300 font-black uppercase tracking-[0.3em]">© 2026 DEUTSCH LERNEN · UPDATED DATA</p>
    </footer>

    <script>
        // 업로드된 파일 데이터를 기반으로 작성된 리스트
        const irrData = [
            {id:1, v:"bergen", k:"구조하다", p1:"birgt", p2:"barg", p3:"hat geborgen", s:"Die Bergwacht hat den Verletzten geborgen."},
            {id:2, v:"sich besinnen", k:"숙고하다", p1:"besinnt sich", p2:"besann sich", p3:"hat sich besonnen", s:"Er hat sich eines Besseren besonnen."},
            {id:3, v:"betrügen", k:"속이다", p1:"betrügt", p2:"betrog", p3:"hat betrogen", s:"Er hat mich beim Kartenspiel betrogen."},
            {id:4, v:"beweisen", k:"증명하다", p1:"beweist", p2:"bewies", p3:"hat bewiesen", s:"Er hat seine Unschuld bewiesen."},
            {id:5, v:"fliehen", k:"도망치다", p1:"flieht", p2:"floh", p3:"ist geflohen", s:"Der Dieb ist vor der Polizei geflohen."},
            {id:6, v:"frieren", k:"얼다/춥다", p1:"friert", p2:"fror", p3:"hat gefroren", s:"Mich hat es gestern sehr gefroren."},
            {id:7, v:"gelingen", k:"성공하다", p1:"gelingt", p2:"gelang", p3:"ist gelungen", s:"Der Plan ist uns endlich gelungen."},
            {id:8, v:"gelten", k:"유효하다", p1:"gilt", p2:"galt", p3:"hat gegolten", s:"Dieses Ticket hat nur gestern gegolten."},
            {id:9, v:"geschehen", k:"일어나다", p1:"geschieht", p2:"geschah", p3:"ist geschehen", s:"Was ist hier geschehen?"},
            {id:10, v:"kriechen", k:"기어가다", p1:"kriecht", p2:"kroch", p3:"ist gekrochen", s:"Die Schlange ist unter den Stein gekrochen."},
            {id:11, v:"leiden", k:"고통받다", p1:"leidet", p2:"litt", p3:"hat gelitten", s:"Er hat lange an der Krankheit gelitten."},
            {id:12, v:"meiden", k:"피하다", p1:"meidet", p2:"mied", p3:"hat gemieden", s:"Sie hat den Kontakt zu ihm gemieden."},
            {id:13, v:"reiben", k:"문지르다", p1:"reibt", p2:"rieb", p3:"hat gerieben", s:"Er hat sich die müden Augen gerieben."},
            {id:14, v:"reißen", k:"찢다", p1:"reißt", p2:"riss", p3:"hat gerissen", s:"Das Seil ist plötzlich gerissen."},
            {id:15, v:"ringen", k:"애쓰다", p1:"ringt", p2:"rang", p3:"hat gerungen", s:"Er hat lange nach Worten gerungen."},
            {id:16, v:"schlagen", k:"치다/때리다", p1:"schlägt", p2:"schlug", p3:"hat geschlagen", s:"Die Uhr hat gerade zwölf geschlagen."},
            {id:17, v:"schleichen", k:"살금살금 걷다", p1:"schleicht", p2:"schlich", p3:"ist geschlichen", s:"Die Katze ist durch den Garten geschlichen."},
            {id:18, v:"schleifen", k:"연마하다", p1:"schleift", p2:"schliff", p3:"hat geschliffen", s:"Er hat das Messer scharf geschliffen."},
            {id:19, v:"schlingen", k:"휘감다/삼키다", p1:"schlingt", p2:"schlang", p3:"hat geschlungen", s:"Er hat den Schal um den Hals geschlungen."},
            {id:20, v:"schreiten", k:"성큼 걷다", p1:"schreitet", p2:"schritt", p3:"ist geschritten", s:"Wir sind sofort zur Tat geschritten."},
            {id:21, v:"schweigen", k:"침묵하다", p1:"schweigt", p2:"schwieg", p3:"hat geschwiegen", s:"Er hat zu den Vorwürfen geschwiegen."},
            {id:22, v:"schwellen", k:"부풀다", p1:"schwillt", p2:"schwoll", p3:"ist geschwollen", s:"Sein Fuß ist nach dem Unfall geschwollen."},
            {id:23, v:"schwingen", k:"흔들다", p1:"schwingt", p2:"schwang", p3:"hat geschwungen", s:"Der Affe hat sich von Ast zu Ast geschwungen."},
            {id:24, v:"schwören", k:"맹세하다", p1:"schwört", p2:"schwor", p3:"hat geschworen", s:"Er hat mir ewige Treue geschworen."},
            {id:25, v:"stechen", k:"찌르다", p1:"sticht", p2:"stach", p3:"hat gestochen", s:"Eine Biene hat mich gestochen."},
            {id:26, v:"stehlen", k:"훔치다", p1:"stiehlt", p2:"stahl", p3:"hat gestohlen", s:"Jemand hat mein Fahrrad gestohlen."},
            {id:27, v:"betragen", k:"수량이 ~에 달하다", p1:"beträgt", p2:"betrug", p3:"hat betragen", s:"Die Rechnung hat 50 Euro betragen."},
            {id:28, v:"übertragen", k:"중계하다, 전염시키다", p1:"überträgt", p2:"übertrug", p3:"hat übertragen", s:"Das Spiel wurde live übertragen."},
            {id:29, v:"antreten", k:"여행을 시작하다", p1:"tritt an", p2:"trat an", p3:"hat angetreten", s:"Er hat gestern seine neue Stelle angetreten."},
            {id:30, v:"auftreten", k:"무대에 서다, 나타나다", p1:"tritt auf", p2:"trat auf", p3:"ist aufgetreten", s:"Der Sänger ist gestern aufgetreten."},
            {id:31, v:"betreten", k:"건물에 들어가다", p1:"betritt", p2:"betrat", p3:"hat betreten", s:"Er hat den Raum leise betreten."},
            {id:32, v:"eintreten", k:"입장/가입하다", p1:"tritt ein", p2:"trat ein", p3:"ist eingetreten", s:"Sie ist in den Verein eingetreten."},
            {id:33, v:"vertreten", k:"대리/대변하다", p1:"vertritt", p2:"vertrat", p3:"hat vertreten", s:"Er hat seinen Kollegen vertreten."},
            {id:34, v:"zurücktreten", k:"사임/물러나다", p1:"tritt zurück", p2:"trat zurück", p3:"ist zurückgetreten", s:"Der Minister ist gestern zurückgetreten."},
            {id:35, v:"abtun", k:"일축하다, 무시하다", p1:"tut ab", p2:"tat ab", p3:"hat abgetan", s:"Er hat das Problem als unwichtig abgetan."},
            {id:36, v:"verderben", k:"망치다, 상하다", p1:"verdirbt", p2:"verdarb", p3:"ist verdorben", s:"Das Fleisch ist in der Hitze verdorben."},
            {id:37, v:"vergessen", k:"잊다", p1:"vergisst", p2:"vergaß", p3:"hat vergessen", s:"Ich habe meinen Schlüssel vergessen."},
            {id:38, v:"weichen", k:"물러나다, 비키다", p1:"weicht", p2:"wich", p3:"ist gewichen", s:"Die Nacht ist dem Tag gewichen."},
            {id:39, v:"ausweichen", k:"피하다", p1:"weicht aus", p2:"wich aus", p3:"ist ausgewichen", s:"Er ist dem Auto im letzten Moment ausgewichen."},
            {id:40, v:"weisen", k:"가리키다, 안내하다", p1:"weist", p2:"wies", p3:"hat gewiesen", s:"Er hat mir den Weg gewiesen."},
            {id:41, v:"beweisen", k:"증명하다 (Check)", p1:"beweist", p2:"bewies", p3:"hat bewiesen", s:"Er hat es schon einmal bewiesen."},
            {id:42, v:"erweisen", k:"판명되다, 드러내다", p1:"erweist sich", p2:"erwies sich", p3:"hat sich erwiesen", s:"Das Gerücht hat sich als falsch erwiesen."},
            {id:43, v:"nachweisen", k:"입증하다", p1:"weist nach", p2:"wies nach", p3:"hat nachgewiesen", s:"Sie haben die Zahlung nachgewiesen."},
            {id:44, v:"verweisen", k:"참조/언급하다", p1:"verweist", p2:"verwies", p3:"hat verwiesen", s:"Der Lehrer hat ihn des Raumes verwiesen."},
            {id:45, v:"werben", k:"광고/모집하다", p1:"wirbt", p2:"warb", p3:"hat geworben", s:"Die Firma hat für das neue Produkt geworben."},
            {id:46, v:"erwerben", k:"습득하다, 얻다", p1:"erwirbt", p2:"erwarb", p3:"hat erworben", s:"Sie hat in der Schule viele Kenntnisse erworben."},
            {id:47, v:"beziehen", k:"입주하다, 씌우다", p1:"bezieht", p2:"bezog", p3:"hat bezogen", s:"Wir haben das neue Haus bezogen."},
            {id:48, v:"zurückziehen", k:"철회/물러나다", p1:"zieht zurück", p2:"zog zurück", p3:"hat zurückgezogen", s:"Er hat seinen Antrag zurückgezogen."},
            {id:49, v:"zwingen", k:"강요하다", p1:"zwingt", p2:"zwang", p3:"hat gezwungen", s:"Das schlechte Wetter hat uns zur Pause gezwungen."}
        ];

        // 데이터 렌더링
        const container = document.getElementById('irr-list');
        irrData.forEach(item => {
            container.innerHTML += `
                <div class="word-card group" onclick="openWordModal('${item.id}')">
                    <div class="helper-text">Starkes Verb</div>
                    <div class="verb group-hover:text-purple-600 transition-colors">${item.v}</div>
                    <div class="meaning">${item.k}</div>
                </div>
            `;
        });

        // 모달 함수
        function openWordModal(id) {
            const item = irrData.find(d => d.id == id);
            document.getElementById('modal-word').innerText = item.v;
            document.getElementById('modal-meaning').innerText = item.k;
            document.getElementById('modal-p1').innerText = item.p1;
            document.getElementById('modal-p2').innerText = item.p2;
            document.getElementById('modal-p3').innerText = item.p3;
            document.getElementById('modal-sentence').innerText = `"${item.s}"`;
            document.getElementById('word-modal').style.display = 'flex';
        }
        function closeWordModal() { document.getElementById('word-modal').style.display='none'; }

        // 퀴즈 로직 (문맥에 맞는 올바른 형태 고르기)
        let pool = []; let currIdx = 0; let score = 0;
        function startQuiz() {
            pool = [...irrData].sort(() => 0.5 - Math.random()).slice(0, 10);
            currIdx = 0; score = 0;
            document.getElementById('q-init').classList.add('hidden');
            document.getElementById('q-play').classList.remove('hidden');
            document.getElementById('q-result').classList.add('hidden');
            showQ();
        }

        function showQ() {
            const item = pool[currIdx];
            document.getElementById('q-status').innerText = `Question ${currIdx + 1} / 10`;
            document.getElementById('q-meaning-hint').innerText = `뜻: ${item.k}`;
            
            // 1. 과거형(Präteritum) 또는 완료형(Perfekt) 중 하나를 문제로 냄
            const isPerfekt = Math.random() > 0.5;
            let question, answer, wrong1, wrong2, wrong3;

            if (isPerfekt) {
                // 완료형 문제 파싱 로직 개선 (재귀동사 처리)
                const parts = item.p3.split(' ');
                const aux = parts[0]; // hat 또는 ist
                const partizip = parts[parts.length - 1]; // 문장 끝의 과거분사 (예: besonnen)
                
                if(Math.random() > 0.5) {
                    // 조동사(hat/ist) 맞히기
                    // 문장에서 aux를 빈칸으로
                    question = item.s.replace(aux, "_______");
                    answer = aux;
                    wrong1 = (aux === "hat" ? "ist" : "hat");
                    wrong2 = "wird";
                    wrong3 = "war";
                } else {
                    // 과거분사(Partizip II) 맞히기
                    question = item.s.replace(partizip, "_______");
                    answer = partizip;
                    
                    // 오답 생성
                    wrong1 = item.v + "t"; // 규칙동사처럼 (flieht)
                    wrong2 = "ge" + item.v + "t"; // geflieht (규칙 과거분사 흉내)
                    wrong3 = item.p2.split(' ')[0]; // 과거형 (floh)
                }
            } else {
                // 과거형 문제 (Präteritum)
                // 문장에서 과거분사를 찾아서 과거형으로 바꾸는 식은 복잡하므로,
                // "동사원형: Gestern _______ er/sie ..." 패턴으로 출제
                const pastForm = item.p2.split(' ')[item.p2.split(' ').length -1]; // 재귀대명사 제외하고 동사만 추출 시도, 하지만 단순하게 가자.
                // 대부분 p2는 "barg", "besann sich" 등임.
                
                // 단순화: 동사만 빈칸 뚫기. 단, p2가 "besann sich" 처럼 길면 첫 단어만 추출
                const simplePast = item.p2.split(' ')[0]; // besann
                
                question = `${item.v.toUpperCase()}: Gestern _______ er/sie ...`;
                answer = simplePast;
                
                // 오답
                wrong1 = item.v + "te"; // 규칙 과거형 (bergte)
                wrong2 = item.p1.split(' ')[0]; // 현재형 (birgt)
                wrong3 = "ge" + simplePast; // 이상한 형태
            }

            document.getElementById('q-text').innerText = question;
            const optsDiv = document.getElementById('q-options'); optsDiv.innerHTML = '';
            
            let choices = [answer, wrong1, wrong2, wrong3];
            choices.sort(() => 0.5 - Math.random()).forEach(choice => {
                const btn = document.createElement('button');
                btn.className = "w-full text-left p-5 rounded-2xl border-2 border-gray-100 font-bold hover:border-black transition-all cursor-pointer bg-white text-lg";
                btn.innerText = choice;
                btn.onclick = () => {
                    document.querySelectorAll('#q-options button').forEach(b => b.disabled = true);
                    if(choice === answer) { btn.classList.add('bg-green-500', 'text-white'); score++; }
                    else { btn.classList.add('bg-red-500', 'text-white'); }
                    document.getElementById('next-btn').disabled = false;
                };
                optsDiv.appendChild(btn);
            });
        }

        function nextQ() {
            currIdx++;
            if(currIdx < 10) { showQ(); document.getElementById('next-btn').disabled = true; }
            else { 
                document.getElementById('q-play').classList.add('hidden'); 
                document.getElementById('q-result').classList.remove('hidden'); 
                document.getElementById('score-text').innerText = `Final Score: ${score} / 10`; 
            }
        }
    </script>
</body>
</html>
