<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>ì ‘ì†ì‚¬ Master - Deutsch Lernen</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400&family=Open+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Open Sans', sans-serif; background-color: #f5f5f5; color: #333; }
        .serif-font { font-family: 'Merriweather', serif; }
        .german-line { height: 4px; background: linear-gradient(90deg, #000 33.3%, #d00 33.3%, #d00 66.6%, #fc0 66.6%); }
        
        /* GNB ê³ ì • */
        header { position: sticky; top: 0; z-index: 1000; background: white; width: 100%; border-bottom: 1px solid #f0f0f0; }
        .nav-link { padding-bottom: 4px; border-bottom: 2px solid transparent; transition: all 0.2s; font-weight: 700; color: #6b7280; }
        .nav-link:hover { color: #d00; }
        .nav-link.active { color: #d00 !important; border-bottom: 2px solid #d00; }

        /* ì¢Œì¸¡ ëŒ€í˜• í€µ ë©”ë‰´ */
        .side-nav { position: fixed; left: 30px; top: 50%; transform: translateY(-50%); display: flex; flex-direction: column; gap: 15px; z-index: 50; }
        .side-btn { 
            background: white; border: 2px solid #000; padding: 25px 15px; border-radius: 20px; 
            font-size: 14px; font-weight: 900; color: #000; text-align: center; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.1); transition: all 0.3s; 
            width: 160px; cursor: pointer; line-height: 1.4; 
        }
        .side-btn:hover { background: #d00; color: #fff; border-color: #d00; transform: scale(1.05) translateX(5px); }

        /* ê°€ë¡œ 5ê°œ ê·¸ë¦¬ë“œ */
        .word-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        @media (min-width: 768px) { .word-grid { grid-template-columns: repeat(3, 1fr); } } 
        @media (min-width: 1200px) { .word-grid { grid-template-columns: repeat(5, 1fr); } }

        .word-card { 
            background: white; border-radius: 1.2rem; padding: 1.5rem; border: 1px solid #eee; 
            transition: all 0.2s; cursor: pointer; text-align: center; position: relative;
            display: flex; flex-direction: column; justify-content: center; min-height: 120px;
        }
        .word-card:hover { transform: translateY(-3px); border-color: #d00; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .word-card .verb { font-size: 0.95rem; font-weight: 800; color: #111; line-height: 1.2; margin-bottom: 6px; }
        .word-card .meaning { font-size: 0.75rem; color: #999; font-weight: 600; }
        
        /* ì˜…ì€ ì–´ìˆœ ë¼ë²¨ í‘œì‹œ */
        .type-label { font-size: 9px; color: #e5e7eb; font-weight: 900; position: absolute; top: 8px; right: 10px; }
        .word-card:hover .type-label { color: #ffcccc; }

        /* í€´ì¦ˆ ë²„íŠ¼ ì»¤ì„œ */
        #next-btn:disabled { cursor: not-allowed; opacity: 0.5; }
        #next-btn:not(:disabled) { cursor: pointer; background-color: #000 !important; color: white !important; }

        /* í™•ëŒ€ ëª¨ë‹¬ */
        #word-modal { display: none; position: fixed; inset: 0; z-index: 2000; background: rgba(0,0,0,0.85); backdrop-filter: blur(8px); align-items: center; justify-content: center; padding: 20px; }
        .modal-content { background: white; width: 100%; max-width: 550px; border-radius: 40px; padding: 60px 40px; position: relative; text-align: center; box-shadow: 0 25px 50px rgba(0,0,0,0.3); }

        @media (max-width: 1450px) { .side-nav { display: none; } }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <div class="side-nav">
        <div onclick="document.getElementById('list-start').scrollIntoView()" class="side-btn">ğŸ”— ì ‘ì†ì‚¬<br>ì „ì²´ ë¦¬ìŠ¤íŠ¸</div>
        <div onclick="document.getElementById('quiz-start').scrollIntoView()" class="side-btn">âœï¸ ì‹¤ì „ í€´ì¦ˆ<br>(ì–´ìˆœ/ì˜ë¯¸)</div>
    </div>

    <header>
        <div class="german-line"></div>
        <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center">
            <div class="flex items-center gap-3 mb-4 md:mb-0 cursor-pointer" onclick="location.href='index.html'">
                <div class="w-10 h-10 bg-gray-900 text-yellow-400 flex items-center justify-center font-bold text-xl rounded shadow-sm">D</div>
                <h1 class="text-2xl font-bold text-gray-800 serif-font tracking-tight">Deutsch Lernen</h1>
            </div>
            <nav class="flex flex-wrap justify-center gap-6 text-sm">
                <a href="index.html" class="nav-link">Alle</a>
                <a href="a1.html" class="nav-link">A1</a>
                <a href="grammatik.html" class="nav-link active">Grammatik</a>
                <a href="notification.html" class="nav-link">Notification</a>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 py-12 flex-grow">
        <div id="list-start" class="pt-10">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-black serif-font mb-2">Konjunktionen Master</h2>
                <p class="text-gray-400 font-bold uppercase tracking-widest text-xs mb-4 underline">ëª¨ë“  ì ‘ì†ì‚¬ì™€ ë¬¸ì¥ êµ¬ì¡°ë¥¼ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”</p>
                <div class="flex flex-wrap justify-center gap-2 text-[9px] font-bold text-gray-300">
                    <span class="border px-2 py-1 rounded">Pos 0 (ì–´ìˆœê·¸ëŒ€ë¡œ)</span>
                    <span class="border px-2 py-1 rounded">End (ë™ì‚¬ ë§¨ ë’¤)</span>
                    <span class="border px-2 py-1 rounded">Inv (ë™ì‚¬+ì£¼ì–´ ë„ì¹˜)</span>
                    <span class="border px-2 py-1 rounded">Pair (ìƒê´€ì ‘ì†ì‚¬)</span>
                </div>
            </div>
            <div class="word-grid" id="conj-list-container"></div>
        </div>

        <section id="quiz-start" class="mt-40 border-t-4 border-black pt-20 mb-32 max-w-3xl mx-auto">
            <div class="text-center mb-12">
                <h3 class="text-4xl font-black serif-font mb-2">Conjunction Quiz</h3>
                <p class="text-gray-500 font-medium italic">ë¬¸ë§¥ê³¼ ì–´ìˆœì— ì•Œë§ì€ ì ‘ì†ì‚¬ë¥¼ ì„ íƒí•˜ì„¸ìš”.</p>
            </div>
            <div class="bg-white rounded-[2.5rem] shadow-2xl overflow-hidden" id="quiz-box">
                <div id="q-init" class="p-20 text-center">
                    <button onclick="startQuiz()" class="bg-black text-white font-black px-16 py-5 rounded-2xl shadow-xl hover:bg-red-600 transition-all text-lg cursor-pointer">í€´ì¦ˆ ì‹œì‘</button>
                </div>
                <div id="q-play" class="p-12 hidden text-center">
                    <div id="q-status" class="text-xs font-black text-red-600 mb-6 uppercase tracking-widest"></div>
                    <div class="text-sm text-gray-400 mb-4 italic font-bold" id="q-meaning-hint"></div>
                    <h4 id="q-text" class="text-2xl md:text-3xl font-bold mb-10 serif-font leading-snug"></h4>
                    <div id="q-options" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
                    <button id="next-btn" onclick="nextQ()" class="w-full mt-10 bg-gray-100 text-gray-400 font-black py-5 rounded-2xl transition-all" disabled>ë‹¤ìŒ ë¬¸ì œ</button>
                </div>
                <div id="q-result" class="p-16 text-center hidden">
                    <h4 class="text-6xl font-black mb-6 serif-font" id="score-text"></h4>
                    <button onclick="location.reload()" class="bg-black text-white px-10 py-4 rounded-full font-bold cursor-pointer">ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
                </div>
            </div>
        </section>
    </main>

    <div id="word-modal" onclick="closeWordModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <span class="material-symbols-outlined absolute top-6 right-6 cursor-pointer text-gray-300 hover:text-black" onclick="closeWordModal()">close</span>
            <div id="modal-type" class="text-red-600 font-black text-[10px] tracking-widest mb-2 uppercase"></div>
            <div id="modal-word" class="text-4xl font-black serif-font mb-8"></div>
            <div id="modal-sentence" class="text-2xl font-bold text-indigo-600 mb-6 leading-tight"></div>
            <div id="modal-meaning" class="text-gray-400 font-bold text-lg"></div>
        </div>
    </div>

    <footer class="bg-white border-t border-gray-100 py-12 text-center mt-20">
        <p class="text-[10px] text-gray-300 font-black uppercase tracking-[0.3em]">Â© 2024 DEUTSCH LERNEN Â· ALL CONJUNCTIONS INCLUDED</p>
    </footer>

    <script>
        // ì—…ë¡œë“œëœ ë¬¸ì„œì˜ ëª¨ë“  ì ‘ì†ì‚¬ ë°ì´í„° ì •ë¦¬
        const conjData = [
            // 0ìˆœìœ„ (ADUSO)
            {id:1, v:"und", s:"Ich trinke Tee und ich esse Brot.", k:"ê·¸ë¦¬ê³ ", t:"Pos 0"},
            {id:2, v:"aber", s:"Es ist teuer, aber es ist gut.", k:"í•˜ì§€ë§Œ", t:"Pos 0"},
            {id:3, v:"denn", s:"Ich schlafe, denn ich bin mÃ¼de.", k:"ì™œëƒí•˜ë©´", t:"Pos 0"},
            {id:4, v:"oder", s:"Gehen wir ins Kino oder bleiben wir?", k:"ë˜ëŠ”", t:"Pos 0"},
            {id:5, v:"sondern", s:"Nicht ich, sondern er hat das getan.", k:"(Aê°€ ì•„ë‹ˆë¼) ~ì´ë‹¤", t:"Pos 0"},
            // ì¢…ì† ì ‘ì†ì‚¬ (ë™ì‚¬ ë)
            {id:6, v:"weil", s:"Ich bleibe zu Hause, weil es regnet.", k:"~ë•Œë¬¸ì—", t:"End"},
            {id:7, v:"dass", s:"Ich glaube, dass er kommt.", k:"~ë¼ëŠ” ê²ƒ", t:"End"},
            {id:8, v:"obwohl", s:"Er arbeitet, obwohl er krank ist.", k:"ë¹„ë¡ ~ì¼ì§€ë¼ë„", t:"End"},
            {id:9, v:"wenn", s:"Wenn ich Zeit habe, komme ich.", k:"ë§Œì•½ ~í•œë‹¤ë©´ / ~í•  ë•Œ", t:"End"},
            {id:10, v:"als", s:"Als ich klein war, lebte ich hier.", k:"(ê³¼ê±°)~í–ˆì„ ë•Œ", t:"End"},
            {id:11, v:"damit", s:"Ich lerne, damit ich bestehe.", k:"~í•˜ë„ë¡ (ëª©ì )", t:"End"},
            {id:12, v:"wÃ¤hrend", s:"WÃ¤hrend er las, schlief ich.", k:"~í•˜ëŠ” ë™ì•ˆ", t:"End"},
            {id:13, v:"da", s:"Da ich mÃ¼de bin, gehe ich.", k:"~ì´ë¯€ë¡œ", t:"End"},
            {id:14, v:"bevor", s:"Wasch dich, bevor du isst.", k:"~í•˜ê¸° ì „ì—", t:"End"},
            {id:15, v:"nachdem", s:"Nachdem er aÃŸ, ging er.", k:"~í•œ í›„ì—", t:"End"},
            {id:16, v:"ob", s:"Ich weiÃŸ nicht, ob er kommt.", k:"~ì¸ì§€ ì•„ë‹Œì§€", t:"End"},
            {id:17, v:"seit", s:"Seit er hier ist, ist es laut.", k:"~í•œ ì´ë˜ë¡œ", t:"End"},
            {id:18, v:"bis", s:"Warte, bis ich fertig bin.", k:"~í•  ë•Œê¹Œì§€", t:"End"},
            {id:19, v:"sodass", s:"Es schneit, sodass wir bleiben.", k:"ê·¸ë˜ì„œ ê·¸ ê²°ê³¼", t:"End"},
            // ì ‘ì† ë¶€ì‚¬ (ë„ì¹˜)
            {id:20, v:"deshalb", s:"Es regnet, deshalb bleiben wir.", k:"ê·¸ë˜ì„œ", t:"Inv"},
            {id:21, v:"trotzdem", s:"Er ist krank, trotzdem arbeitet er.", k:"ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³ ", t:"Inv"},
            {id:22, v:"dann", s:"Zuerst essen wir, dann gehen wir.", k:"ê·¸ëŸ¬ê³  ë‚˜ì„œ", t:"Inv"},
            {id:23, v:"auÃŸerdem", s:"Er ist klug, auÃŸerdem ist er nett.", k:"ê²Œë‹¤ê°€", t:"Inv"},
            {id:24, v:"sonst", s:"Beeil dich, sonst kommen wir spÃ¤t.", k:"ê·¸ë ‡ì§€ ì•Šìœ¼ë©´", t:"Inv"},
            {id:25, v:"ë‹¤ìŒì—", s:"Erst lerne ich, danach schlafe ich.", k:"ê·¸ ë’¤ì—", t:"Inv"},
            {id:26, v:"ê²°êµ­", s:"SchlieÃŸlich haben wir gewonnen.", k:"ê²°êµ­", t:"Inv"},
            {id:27, v:"ë°˜ë©´ì—", s:"Er ist reich, dagegen bin ich arm.", k:"ë°˜ë©´ì—", t:"Inv"},
            // ìƒê´€ ì ‘ì†ì‚¬ (ì§ê¿)
            {id:28, v:"sowohl ... als auch", s:"Er spricht sowohl Deutsch als auch Englisch.", k:"Aë¿ë§Œ ì•„ë‹ˆë¼ Bë„", t:"Pair"},
            {id:29, v:"entweder ... oder", s:"Entweder du kommst oder ich gehe.", k:"Aê±°ë‚˜ Bê±°ë‚˜", t:"Pair"},
            {id:30, v:"weder ... noch", s:"Er trinkt weder Tee noch Kaffee.", k:"Aë„ Bë„ ì•„ë‹Œ", t:"Pair"},
            {id:31, v:"nicht nur ... sondern auch", s:"Er ist nicht nur nett, sondern auch klug.", k:"Aì¼ ë¿ ì•„ë‹ˆë¼ Bì´ê¸°ë„ í•œ", t:"Pair"},
            {id:32, v:"zwar ... aber", s:"Er ist zwar alt, aber fit.", k:"ë¹„ë¡ Aì§€ë§Œ Bí•˜ë‹¤", t:"Pair"},
            {id:33, v:"je ... desto", s:"Je mehr ich lerne, desto besser wird es.", k:"~í• ìˆ˜ë¡ ë” ~í•˜ë‹¤", t:"Pair"}
        ];

        // 1. ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
        const container = document.getElementById('conj-list-container');
        conjData.forEach(item => {
            container.innerHTML += `
                <div class="word-card group" onclick="openWordModal('${item.id}', '${item.v}', '${item.s}', '${item.k}', '${item.t}')">
                    <div class="type-label">[${item.t}]</div>
                    <div class="text-[8px] text-gray-200 font-black mb-1 text-left">NO.${item.id}</div>
                    <div class="verb group-hover:text-red-600 transition-colors">${item.v}</div>
                    <div class="meaning">${item.k}</div>
                </div>
            `;
        });

        // 2. í™•ëŒ€ ëª¨ë‹¬
        function openWordModal(id, v, s, k, t) {
            let desc = (t==='Pos 0'?"ì–´ìˆœ ë¶ˆë³€":t==='End'?"ì¢…ì†ì ˆ (ë™ì‚¬ ë)":t==='Inv'?"ë¶€ì‚¬ ë„ì¹˜ (ë™ì‚¬+ì£¼ì–´)":"ìƒê´€ ì ‘ì†ì‚¬");
            document.getElementById('modal-type').innerText = desc;
            document.getElementById('modal-word').innerText = v;
            document.getElementById('modal-sentence').innerText = s;
            document.getElementById('modal-meaning').innerText = k;
            document.getElementById('word-modal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }
        function closeWordModal() { document.getElementById('word-modal').style.display='none'; document.body.style.overflow='auto'; }

        // 3. ì‹¤ì „ ì ‘ì†ì‚¬ í€´ì¦ˆ
        let pool = []; let currIdx = 0; let score = 0;
        function startQuiz() {
            pool = [...conjData].sort(() => 0.5 - Math.random()).slice(0, 10);
            document.getElementById('q-init').classList.add('hidden');
            document.getElementById('q-play').classList.remove('hidden');
            showQ();
        }
        function showQ() {
            const item = pool[currIdx];
            document.getElementById('q-status').innerText = `Question ${currIdx + 1} / 10`;
            document.getElementById('q-meaning-hint').innerText = `í•´ì„: ${item.k} (${item.t})`;
            
            // ì •ë‹µ ì ‘ì†ì‚¬ë¥¼ ë¹ˆì¹¸ìœ¼ë¡œ ë§Œë“¦
            const firstPart = item.v.split(' ')[0];
            const questionText = item.s.replace(new RegExp(`\\b${firstPart}\\b`, 'i'), "_______");
            document.getElementById('q-text').innerText = questionText;

            const optsDiv = document.getElementById('q-options'); optsDiv.innerHTML = '';
            let choices = [firstPart];
            while(choices.length < 4) {
                let rando = conjData[Math.floor(Math.random()*conjData.length)].v.split(' ')[0];
                if(!choices.includes(rando)) choices.push(rando);
            }
            choices.sort(() => 0.5 - Math.random()).forEach(choice => {
                const btn = document.createElement('button');
                btn.className = "w-full text-left p-5 rounded-2xl border-2 border-gray-100 font-bold hover:border-black transition-all cursor-pointer bg-white";
                btn.innerText = choice;
                btn.onclick = () => {
                    document.querySelectorAll('#q-options button').forEach(b => b.disabled = true);
                    if(choice === firstPart) { btn.classList.add('bg-green-500', 'text-white', 'border-green-500'); score++; }
                    else { btn.classList.add('bg-red-500', 'text-white', 'border-red-500'); }
                    document.getElementById('next-btn').disabled = false;
                };
                optsDiv.appendChild(btn);
            });
        }
        function nextQ() {
            currIdx++;
            if(currIdx < 10) { showQ(); document.getElementById('next-btn').disabled = true; }
            else { document.getElementById('q-play').classList.add('hidden'); document.getElementById('q-result').classList.remove('hidden'); document.getElementById('score-text').innerText = `Score: ${score} / 10`; }
        }
    </script>
</body>
</html>
